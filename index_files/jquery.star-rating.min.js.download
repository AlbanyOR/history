/*!
* jQuery starRating plugin v1
* http://
*
* Copyright (C) 2012 Gennady Pugachevsky
*
*/
(function(b){var c={rate:0,votes:0,enable:1,url:""},a={__construct:function(d){if(this.length>0){this.data("raitingOptions",b.extend({},c,d));var f=this.data("raitingOptions");this.addClass("star-rating");f.$stars=b('<div class="stars" />');this.append(f.$stars);for(var e=0;e<5;e++){f.$stars.append(b('<div class="star" />'))}this.append(b('<span class="result"><span class="rate">'+f.rate+'</span> (<span class="votes">'+f.votes+"</span>)</span>"));if(f.enable){a.enable.call(this)}f.$stars.css("background-position","0 "+(-32*f.rate)+"px")}return this},enable:function(){var e=this,d=this.data("raitingOptions");this.find("div.star").each(function(f){b(this).mouseover(function(){b(this).parent().css({backgroundPosition:"0 "+(-32*(f+1))+"px",cursor:"pointer"})}).click(function(){a.rate.call(e,f+1)})});d.$stars.mouseleave(function(){b(this).css("background-position","0 "+(-32*d.rate)+"px")});return this},rate:function(f){var e=this,d=this.data("raitingOptions");a.disable.call(e);b.post(d.url,{rate:f},function(g){d.votes=g.record.votes;d.rate=g.record.rate;e.find("span.rate").html(g.record.rate);e.find("span.votes").html(g.record.votes);d.$stars.css("background-position","0 "+(-32*d.rate)+"px")},"json");return this},disable:function(){var d=this.data("raitingOptions");d.$stars.css({backgroundPosition:"0 "+(-32*d.rate)+"px",cursor:"default"});d.$stars.unbind("mouseleave");this.find("div.star").unbind("mouseover click");return this}};b.fn.starRating=function(e,d){if(a[e]){return a[e].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof e==="object"||!e){return a.__construct.apply(this,arguments)}else{b.error("Method "+e+" does not exist on jQuery.slider")}}}})(jQuery);