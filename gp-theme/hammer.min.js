function Hammer(m,t,k){var h=this;var z={prevent_default:false,css_hacks:true,swipe:true,swipe_time:200,swipe_min_distance:20,drag:true,drag_vertical:true,drag_horizontal:true,drag_min_distance:20,transform:true,scale_treshold:0.1,rotation_treshold:15,tap:true,tap_double:true,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:true,hold_timeout:500};t=C(z,t);(function(){if(!t.css_hacks){return false}var R=["webkit","moz","ms","o",""];var O={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"};var Q="";for(var N=0;N<R.length;N++){for(var P in O){Q=P;if(R[N]){Q=R[N]+Q.substring(0,1).toUpperCase()+Q.substring(1)}m.style[Q]=O[P]}}})();var I=0;var s=0;var J=0;var x={};var K=0;var j=false;var f=null;var e=null;var r=null;var B={x:0,y:0};var c=null;var A=null;var L={};var b=false;var i;var d;var y;var G=("ontouchstart" in window);this.option=function(N,O){if(O!=k){t[N]=O}return t[N]};this.getDirectionFromAngle=function(P){var Q={down:P>=45&&P<135,left:P>=135||P<=-135,up:P<-45&&P>-135,right:P>=-45&&P<=45};var O,N;for(N in Q){if(Q[N]){O=N;break}}return O};this.destroy=function(){if(G){a(m,"touchstart touchmove touchend touchcancel",v)}else{a(m,"mouseup mousedown mousemove",v);a(m,"mouseout",q)}};function u(N){return N.touches?N.touches.length:1}function M(Q){Q=Q||window.event;if(!G){var R=document,O=R.body;return[{x:Q.pageX||Q.clientX+(R&&R.scrollLeft||O&&O.scrollLeft||0)-(R&&R.clientLeft||O&&R.clientLeft||0),y:Q.pageY||Q.clientY+(R&&R.scrollTop||O&&O.scrollTop||0)-(R&&R.clientTop||O&&R.clientTop||0)}]}else{var T=[],S;for(var P=0,N=Q.touches.length;P<N;P++){S=Q.touches[P];T.push({x:S.pageX,y:S.pageY})}return T}}function n(O,N){return Math.atan2(N.y-O.y,N.x-O.x)*180/Math.PI}function o(O,P){if(O.length==2&&P.length==2){var N,S;N=O[0].x-O[1].x;S=O[0].y-O[1].y;var Q=Math.sqrt((N*N)+(S*S));N=P[0].x-P[1].x;S=P[0].y-P[1].y;var R=Math.sqrt((N*N)+(S*S));return R/Q}return 0}function l(P,Q){if(P.length==2&&Q.length==2){var O,S;O=P[0].x-P[1].x;S=P[0].y-P[1].y;var R=Math.atan2(S,O)*180/Math.PI;O=Q[0].x-Q[1].x;S=Q[0].y-Q[1].y;var N=Math.atan2(S,O)*180/Math.PI;return N-R}return 0}function H(N,O){O.touches=M(O.originalEvent);O.type=N;if(p(h["on"+N])){h["on"+N].call(h,O)}}function D(N){N=N||window.event;if(N.preventDefault){N.preventDefault();N.stopPropagation()}else{N.returnValue=false;N.cancelBubble=true}}function E(){x={};j=false;K=0;I=0;s=0;f=null}var w={hold:function(N){if(t.hold){f="hold";clearTimeout(A);A=setTimeout(function(){if(f=="hold"){H("hold",{originalEvent:N,position:x.start})}},t.hold_timeout)}},swipe:function(T){if(!x.move){return}var R=x.move[0].x-x.start[0].x;var Q=x.move[0].y-x.start[0].y;I=Math.sqrt(R*R+Q*Q);var P=new Date().getTime();var S=P-r;if(t.swipe&&(t.swipe_time>S)&&(I>t.swipe_min_distance)){s=n(x.start[0],x.move[0]);J=h.getDirectionFromAngle(s);f="swipe";var O={x:x.move[0].x-L.left,y:x.move[0].y-L.top};var N={originalEvent:T,position:O,direction:J,distance:I,distanceX:R,distanceY:Q,angle:s};H("swipe",N)}},drag:function(S){var Q=x.move[0].x-x.start[0].x;var P=x.move[0].y-x.start[0].y;I=Math.sqrt(Q*Q+P*P);if(t.drag&&(I>t.drag_min_distance)||f=="drag"){s=n(x.start[0],x.move[0]);J=h.getDirectionFromAngle(s);var R=(J=="up"||J=="down");if(((R&&!t.drag_vertical)||(!R&&!t.drag_horizontal))&&(I>t.drag_min_distance)){return}f="drag";var O={x:x.move[0].x-L.left,y:x.move[0].y-L.top};var N={originalEvent:S,position:O,direction:J,distance:I,distanceX:Q,distanceY:P,angle:s};if(j){H("dragstart",N);j=false}H("drag",N);D(S)}},transform:function(P){if(t.transform){if(u(P)!=2){return false}var O=l(x.start,x.move);var Q=o(x.start,x.move);if(f!="drag"&&(f=="transform"||Math.abs(1-Q)>t.scale_treshold||Math.abs(O)>t.rotation_treshold)){f="transform";x.center={x:((x.move[0].x+x.move[1].x)/2)-L.left,y:((x.move[0].y+x.move[1].y)/2)-L.top};var N={originalEvent:P,position:x.center,scale:Q,rotation:O};if(j){H("transformstart",N);j=false}H("transform",N);D(P);return true}}return false},tap:function(R){var O=new Date().getTime();var Q=O-r;if(t.hold&&!(t.hold&&t.hold_timeout>Q)){return}var P=(function(){if(B&&t.tap_double&&e=="tap"&&(r-c)<t.tap_max_interval){var U=Math.abs(B[0].x-x.start[0].x);var T=Math.abs(B[0].y-x.start[0].y);return(B&&x.start&&Math.max(U,T)<t.tap_double_distance)}return false})();if(P){f="double_tap";c=null;H("doubletap",{originalEvent:R,position:x.start});D(R)}else{var S=(x.move)?Math.abs(x.move[0].x-x.start[0].x):0;var N=(x.move)?Math.abs(x.move[0].y-x.start[0].y):0;I=Math.max(S,N);if(I<t.tap_max_distance){f="tap";c=O;B=x.start;if(t.tap){H("tap",{originalEvent:R,position:x.start});D(R)}}}}};function v(O){switch(O.type){case"mousedown":case"touchstart":x.start=M(O);r=new Date().getTime();K=u(O);j=true;i=O;var N=m.getBoundingClientRect();var S=m.clientTop||document.body.clientTop||0;var R=m.clientLeft||document.body.clientLeft||0;var P=window.pageYOffset||m.scrollTop||document.body.scrollTop;var Q=window.pageXOffset||m.scrollLeft||document.body.scrollLeft;L={top:N.top+P-S,left:N.left+Q-R};b=true;w.hold(O);if(t.prevent_default){D(O)}break;case"mousemove":case"touchmove":if(!b){return false}d=O;x.move=M(O);if(!w.transform(O)){w.drag(O)}break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!b||(f!="transform"&&O.touches&&O.touches.length>0)){return false}b=false;y=O;w.swipe(O);if(f=="drag"){H("dragend",{originalEvent:O,direction:J,distance:I,angle:s})}else{if(f=="transform"){H("transformend",{originalEvent:O,position:x.center,scale:o(x.start,x.move),rotation:l(x.start,x.move)})}else{w.tap(i)}}e=f;H("release",{originalEvent:O,gesture:f});E();break}}function q(N){if(!F(m,N.relatedTarget)){v(N)}}if(G){g(m,"touchstart touchmove touchend touchcancel",v)}else{g(m,"mouseup mousedown mousemove",v);g(m,"mouseout",q)}function F(N,P){if(!P&&window.event&&window.event.toElement){P=window.event.toElement}if(N===P){return true}if(P){var O=P.parentNode;while(O!==null){if(O===N){return true}O=O.parentNode}}return false}function C(P,O){var N={};if(!O){return P}for(var Q in P){if(Q in O){N[Q]=O[Q]}else{N[Q]=P[Q]}}return N}function p(N){return Object.prototype.toString.call(N)=="[object Function]"}function g(Q,P,R){P=P.split(" ");for(var O=0,N=P.length;O<N;O++){if(Q.addEventListener){Q.addEventListener(P[O],R,false)}else{if(document.attachEvent){Q.attachEvent("on"+P[O],R)}}}}function a(Q,P,R){P=P.split(" ");for(var O=0,N=P.length;O<N;O++){if(Q.removeEventListener){Q.removeEventListener(P[O],R,false)}else{if(document.detachEvent){Q.detachEvent("on"+P[O],R)}}}}};